bindableModelRequire=function e(n,t,o){function r(s,u){if(!t[s]){if(!n[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var a=t[s]={exports:{}};n[s][0].call(a.exports,(function(e){return r(n[s][1][e]||e)}),a,a.exports,e,n,t,o)}return t[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}({"D:\\work\\git\\webcomponents\\psk-enterprise-workspace\\privatesky\\builds\\tmp\\bindableModel.js":[function(e){void 0===window.process&&(window.process={}),e("./bindableModel_intermediar")},{"./bindableModel_intermediar":"D:\\work\\git\\webcomponents\\psk-enterprise-workspace\\privatesky\\builds\\tmp\\bindableModel_intermediar.js"}],"D:\\work\\git\\webcomponents\\psk-enterprise-workspace\\privatesky\\builds\\tmp\\bindableModel_intermediar.js":[function(e){(function(n){n.bindableModelLoadModules=function(){void 0===$$.__runtimeModules["overwrite-require"]&&($$.__runtimeModules["overwrite-require"]=e("overwrite-require")),void 0===$$.__runtimeModules.queue&&($$.__runtimeModules.queue=e("queue")),void 0===$$.__runtimeModules.soundpubsub&&($$.__runtimeModules.soundpubsub=e("soundpubsub")),void 0===$$.__runtimeModules["psk-bindable-model"]&&($$.__runtimeModules["psk-bindable-model"]=e("psk-bindable-model"))},n.bindableModelRequire=e,"undefined"!=typeof $$&&$$.requireBundle("bindableModel")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"overwrite-require":"overwrite-require","psk-bindable-model":"psk-bindable-model",queue:"queue",soundpubsub:"soundpubsub"}],"D:\\work\\git\\webcomponents\\psk-enterprise-workspace\\privatesky\\modules\\overwrite-require\\moduleConstants.js":[function(e,n){n.exports={BROWSER_ENVIRONMENT_TYPE:"browser",SERVICE_WORKER_ENVIRONMENT_TYPE:"service-worker",ISOLATE_ENVIRONMENT_TYPE:"isolate",THREAD_ENVIRONMENT_TYPE:"thread",NODEJS_ENVIRONMENT_TYPE:"nodejs"}},{}],"D:\\work\\git\\webcomponents\\psk-enterprise-workspace\\privatesky\\modules\\overwrite-require\\standardGlobalSymbols.js":[function(e){(function(n){let t=console;if(n.process&&"true"===process.env.NO_LOGS)console.log("Environment flag NO_LOGS is set, logging to console");else try{e("zeromq");const n=e("psklogger");t=n.PSKLogger.getLogger(),console.log("Logger init successful",process.pid)}catch(e){-1!==e.message.indexOf("psklogger")||-1!==e.message.indexOf("zeromq")?(console.log("Logger not available, using console"),t=console):console.log(e)}$$.registerGlobalSymbol=function(e,n){void 0===$$[e]?Object.defineProperty($$,e,{value:n,writable:!1}):t.error("Refusing to overwrite $$."+e)},console.warn=(...e)=>{console.log(...e)},$$.registerGlobalSymbol("autoThrow",(function(e){if(!e)throw e})),$$.registerGlobalSymbol("propagateError",(function(e,n){if(e)throw n(e),e})),$$.registerGlobalSymbol("logError",(function(e){e&&(console.log(e),$$.err(e))})),console.log("Fix the fixMe to not display on console but put in logs"),$$.registerGlobalSymbol("fixMe",(function(){})),$$.registerGlobalSymbol("exception",(function(e){throw new Error(e)})),$$.registerGlobalSymbol("throw",(function(e){throw new Error(e)})),$$.incomplete=function(...e){e.unshift("Incomplete feature touched:"),t.warn(...e)},$$.notImplemented=$$.incomplete,$$.registerGlobalSymbol("assert",(function(e,n){if(!e)throw new Error("Assert false "+n)})),$$.registerGlobalSymbol("flags",(function(){$$.incomplete("flags handling not implemented")})),$$.registerGlobalSymbol("obsolete",(function(...e){e.unshift("Obsolete feature:"),t.log(...e),console.log(...e)})),$$.registerGlobalSymbol("log",(function(...e){e.unshift("Log:"),t.log(...e)})),$$.registerGlobalSymbol("info",(function(...e){e.unshift("Info:"),t.log(...e),console.log(...e)})),$$.registerGlobalSymbol("err",(function(...e){e.unshift("Error:"),t.error(...e),console.error(...e)})),$$.registerGlobalSymbol("error",(function(...e){e.unshift("Error:"),t.error(...e),console.error(...e)})),$$.registerGlobalSymbol("warn",(function(...e){e.unshift("Warn:"),t.warn(...e),console.log(...e)})),$$.registerGlobalSymbol("syntaxError",(function(...e){e.unshift("Syntax error:"),t.error(...e);try{throw new Error("Syntax error or misspelled symbol!")}catch(n){console.error(...e),console.error(n.stack)}})),$$.invalidMemberName=function(e,n){let o="unknown";n&&n.meta&&(o=n.meta.swarmTypeName);const r="Invalid member name "+e+"in swarm "+o;console.error(r),t.err(r)},$$.registerGlobalSymbol("invalidSwarmName",(function(e){const n="Invalid swarm name "+e;console.error(n),t.err(n)})),$$.registerGlobalSymbol("unknownException",(function(...e){e.unshift("unknownException:"),t.err(...e),console.error(...e)})),$$.registerGlobalSymbol("event",(function(e,...n){t.hasOwnProperty("event")?t.event(e,...n):"status.domains.boot"===e&&console.log("Failing to console...",e,...n)})),$$.registerGlobalSymbol("redirectLog",(function(e,n){t.hasOwnProperty("redirect")&&t.redirect(e,n)})),$$.registerGlobalSymbol("throttlingEvent",(function(...e){t.log(...e)}))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{psklogger:!1}],"D:\\work\\git\\webcomponents\\psk-enterprise-workspace\\privatesky\\modules\\psk-bindable-model\\lib\\PskBindableModel.js":[function(e,n){const t=e("soundpubsub").soundPubSub,o=["copyWithin","fill","pop","push","reverse","shift","slice","sort","splice","unshift"];t.registerCompactor("chainChanged",(function(e,n){if("chainChanged"===e.type)return n}));let r=0;n.exports=class{static setModel(e){let n=void 0,i="Model."+r+".",s=new Set;const u={};function c(e,n){return e?e+"."+n:n}function l(e){return i+e}function a(e){return function(t,o,r){let i=c(e,o);return t[o]=r&&"object"==typeof r?f(r,i):r,n.notify(i),!0}}function f(e,r){if("object"!=typeof e)return e;let i,u,d,p,b=!r;b&&(i=function(e){(function(e){let n=new Set;n.add("*");let t=e.split(".").map(e=>e.trim()),o="";for(let e=0;e<t.length;e++)0!==e?o+="."+t[e]:o=t[e],n.add(o);return s.forEach(t=>{t.startsWith(e)&&n.add(t)}),n})(e).forEach(e=>{t.publish(l(e),{type:"chainChanged",chain:e})})},d=function(e){return e?e.split(".").map(e=>e.trim()).reduce((e,n)=>{if(null!=e)return e[n]},n):n},p=function(e,t){return e.split(".").map(e=>e.trim()).reduce((e,n,o,r)=>{if(null!=e)return o===r.length-1?(e[n]=t,!0):e=e[n]},n)},u=function(e,n){s.add(e),t.subscribe(l(e),n)});let h=a(r),w={apply:function(){throw new Error("A function call was not expected inside proxy!")},constructor:function(){throw new Error("A constructor call was not expected inside proxy!")},isExtensible:function(e){return Reflect.isExtensible(e)},preventExtensions:function(e){return Reflect.preventExtensions(e)},get:function(e,n){if(b)switch(n){case"onChange":return u;case"notify":return i;case"getChainValue":return d;case"setChainValue":return p}return e[n]},set:a(r),deleteProperty:function(e,n){delete e[n]},ownKeys:function(e){return Reflect.ownKeys(e)},has:function(e,n){return n in e},defineProperty:function(e,n,t){let o=Object.assign({},t);return o.set=function(e,n,o){t.hasOwnProperty("set")&&t.set(e,n,o),h(e,n,o)},Object.defineProperty(e,n,o)},getOwnPropertyDescriptor:function(e,n){return Object.getOwnPropertyDescriptor(e,n)},getPrototypeOf:function(e){return Reflect.getPrototypeOf(e)},setPrototypeOf:function(e,n){Reflect.setPrototypeOf(e,n)}};return Array.isArray(e)&&(w.get=function(e){return function(t,r){const i=t[r];if("function"==typeof i)switch(r){case"push":return function(e,t){return function(){try{let o=Array.prototype.push.apply(e,arguments);return n.notify(c(t,o-1)),o}catch(e){throw console.log("An error occurred in Proxy"),e}}}(t,e);default:return function(e,t,r){return function(){try{let i=Array.prototype[e].apply(t,arguments);return-1!==o.indexOf(e)&&n.notify(r),i}catch(e){throw console.log("An error occurred in Proxy"),e}}}(r,t,e)}return i}}(r)),Object.keys(e).forEach(n=>{e[n]&&(e[n]=f(e[n],c(r,n)))}),new Proxy(e,w)}return r++,n=f(e),n.toObject=function(e){let t={};return e?"string"==typeof e&&(t=n.getChainValue(e)):t=n,t&&"object"==typeof t?JSON.parse(JSON.stringify(t)):t},n.addExpression=function(e,t,...o){if("string"!=typeof e||!e.length)throw new Error("Expression name must be a valid string");if("function"!=typeof t)throw new Error("Expression must have a callback");let r=[];if(o.length){let e=o;Array.isArray(e[0])&&(e=e[0]),r=e.filter(e=>"string"==typeof e&&e.length)}u[e]={watchChain:r,callback:function(){return t.call(n)}}},n.evaluateExpression=function(e){if(!this.hasExpression(e))throw new Error(`Expression "${e}" is not defined`);return u[e].callback()},n.hasExpression=function(e){return"object"==typeof u[e]&&"function"==typeof u[e].callback},n.onChangeExpressionChain=function(e,n){if(!this.hasExpression(e))throw new Error(`Expression "${e}" is not defined`);const t=u[e];if(t.watchChain.length)for(let e=0;e<t.watchChain.length;e++)this.onChange(t.watchChain[e],n)},n}}},{soundpubsub:"soundpubsub"}],"D:\\work\\git\\webcomponents\\psk-enterprise-workspace\\privatesky\\modules\\soundpubsub\\lib\\soundPubSub.js":[function(e,n,t){const o=e("queue");t.soundPubSub=new function(){this.publish=function(e,s){return a(e)||function(e){var n=!1;return e&&"object"==typeof e||(n=!0,wprint("Invalid messages types: "+e)),n}(s)||void 0===n[e]?null:(function(e,n){var s=!1,u=t[e];if(void 0===u&&(u=new o,t[e]=u),n&&void 0!==n.type){var c=r[n.type];if(void 0!==c)for(let e of u)if(c(n,e)===e&&void 0===e.__transmisionIndex){s=!0;break}}!s&&n&&(u.push(n),i.push(e))}(e,s),setTimeout(u,0),n[e].length)},this.subscribe=function(e,t,o,r){if(!a(e)&&!f(t)){var i={callBack:t,waitForMore:o,filter:r},s=n[e];void 0===s&&(n[e]=s=[]),s.push(i)}},this.unsubscribe=function(e,t,o){if(!f(t)){var r=!1;if(n[e])for(var i=0;i<n[e].length;i++){var s=n[e][i];s.callBack!==t||void 0!==o&&s.filter!==o||(r=!0,s.forDelete=!0,s.callBack=void 0,s.filter=void 0)}r||wprint("Unable to unsubscribe a callback that was not subscribed!")}},this.blockCallBacks=function(){s++},this.releaseCallBacks=function(){for(s--;0===s&&u(!0););for(;0===s&&l(););},this.afterAllEvents=function(e){f(e)||c.push(e),this.blockCallBacks(),this.releaseCallBacks()},this.hasChannel=function(e){return!a(e)&&void 0!==n[e]},this.addChannel=function(e){a(e)||this.hasChannel(e)||(n[e]=[])};var e=this,n={},t={},r={},i=new o,s=0;function u(o){if(s>0)return!1;const r=i.front();if(void 0!==r){e.blockCallBacks();try{let e;if(t[r].isEmpty()||(e=t[r].front()),void 0===e)t[r].isEmpty()||wprint("Can't use as message in a pub/sub channel this object: "+e),i.pop();else{if(void 0===e.__transmisionIndex){e.__transmisionIndex=0;for(var u=n[r].length-1;u>=0;u--){var c=n[r][u];!0===c.forDelete&&n[r].splice(u,1)}}else e.__transmisionIndex++;void 0===e.__transmisionIndex&&wprint("Can't use as message in a pub/sub channel this object: "+e),void 0===(c=n[r][e.__transmisionIndex])?(delete e.__transmisionIndex,t[r].pop()):(null==c.filter||!f(c.filter)&&c.filter(e))&&(c.forDelete||(c.callBack(e),!c.waitForMore||f(c.waitForMore)||c.waitForMore(e)||(c.forDelete=!0)))}}catch(e){wprint("Event callback failed: "+c.callBack+"error: "+e.stack)}return o?s--:e.releaseCallBacks(),!0}return!1}this.registerCompactor=function(e,n){f(n)||(r[e]=n)};var c=new o;function l(){return c.isEmpty()||c.pop()(),!c.isEmpty()}function a(e){var n=!1;return(!e||"string"!=typeof e&&"number"!=typeof e)&&(n=!0,wprint("Invalid channel name: "+e)),n}function f(e){var n=!1;return e&&"function"==typeof e||(n=!0,wprint("Expected to be function but is: "+e)),n}}},{queue:"queue"}],"overwrite-require":[function(e,n){(function(t){n.exports={enableForEnvironment:function(n){const o=e("./moduleConstants");switch(n){case o.BROWSER_ENVIRONMENT_TYPE:t=window;break;case o.SERVICE_WORKER_ENVIRONMENT_TYPE:t=self}void 0===t.$$&&(t.$$={}),void 0===$$.__global&&($$.__global={}),Object.defineProperty($$,"environmentType",{get:function(){return n},set:function(){throw Error("Environment type already set!")}}),void 0===$$.__global.requireLibrariesNames&&($$.__global.currentLibraryName=null,$$.__global.requireLibrariesNames={}),void 0===$$.__runtimeModules&&($$.__runtimeModules={}),void 0===t.functionUndefined&&(t.functionUndefined=function(){throw console.log("Called of an undefined function!!!!"),new Error("Called of an undefined function")},void 0===t.webshimsRequire&&(t.webshimsRequire=t.functionUndefined),void 0===t.domainRequire&&(t.domainRequire=t.functionUndefined),void 0===t.pskruntimeRequire&&(t.pskruntimeRequire=t.functionUndefined));const r={};function i(e){return $$.__runtimeModules[e]}function s(e,n){let o,i;e?(o=$$.__requireFunctionsChain.slice(),o.push(e)):o=$$.__requireFunctionsChain,function(e){if(r[e]){const n=new Error("Preventing recursive require for "+e);throw n.type="PSKIgnorableError",n}}(n),function(e){r[e]=!0}(n);let s=!1;$$.__global.currentLibraryName||($$.__global.currentLibraryName=n,void 0===$$.__global.requireLibrariesNames[n]&&($$.__global.requireLibrariesNames[n]={}),s=!0);for(let e=0;e<o.length;e++){const r=o[e];try{if(r===t.functionUndefined)continue;if(i=r(n),i)break}catch(e){}}if(!i)throw Error("Failed to load module "+n);return function(e){r[e]=!1}(n),s&&($$.__global.currentLibraryName=null),i}if(e("./standardGlobalSymbols.js"),void 0===$$.require)switch($$.__requireList=["webshimsRequire"],$$.__requireFunctionsChain=[],$$.requireBundle=function(e){$$.__requireList.push(e+="Require");const n=[i];$$.__requireList.forEach((function(e){const o=function(e){const n=t[e];return void 0===n||n===t.functionUndefined?null:function(e){const t=n(e);return $$.__runtimeModules[e]=t,t}}(e);o&&n.push(o)})),$$.__requireFunctionsChain=n},$$.requireBundle("init"),$$.environmentType){case o.BROWSER_ENVIRONMENT_TYPE:case o.SERVICE_WORKER_ENVIRONMENT_TYPE:console.log("Defining global require in browser"),t.require=function(e){return s(null,e)},$$.require=e;break;case o.ISOLATE_ENVIRONMENT_TYPE:!function(){$$.requireBundle("sandboxBase");const n=t.require;t.crypto=e("crypto"),t.require=function(e){const t=this;let o;return o=s((function(...o){let r;try{r=n.apply(t,o)}catch(o){if("MODULE_NOT_FOUND"!==o.code)throw o;{const o=path.join(process.cwd(),e);r=n.apply(t,[o]),e=o}}return r}),e),o}}(),$$.require=e;break;default:$$.require=function(){const n=e("path");$$.__runtimeModules.crypto=e("crypto"),$$.__runtimeModules.util=e("util");const t=e("module");$$.__runtimeModules.module=t,console.log("Redefining require for node"),$$.__originalRequire=t._load;const o=t.prototype.require;function r(e){const t=this;return s((function(...r){let i;try{i=o.apply(t,r)}catch(r){if("MODULE_NOT_FOUND"!==r.code)throw r;{let r=e;(r.startsWith("/")||r.startsWith("./")||r.startsWith("../"))&&(r=n.join(process.cwd(),e)),i=o.call(t,r),e=r}}return i}),e)}return t.prototype.require=r,r}()}},constants:e("./moduleConstants")}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./moduleConstants":"D:\\work\\git\\webcomponents\\psk-enterprise-workspace\\privatesky\\modules\\overwrite-require\\moduleConstants.js","./standardGlobalSymbols.js":"D:\\work\\git\\webcomponents\\psk-enterprise-workspace\\privatesky\\modules\\overwrite-require\\standardGlobalSymbols.js"}],"psk-bindable-model":[function(e,n){n.exports=e("./lib/PskBindableModel")},{"./lib/PskBindableModel":"D:\\work\\git\\webcomponents\\psk-enterprise-workspace\\privatesky\\modules\\psk-bindable-model\\lib\\PskBindableModel.js"}],queue:[function(e,n){function t(e){this.content=e,this.next=null}function o(){this.head=null,this.tail=null,this.length=0,this.push=function(e){const n=new t(e);this.head?(this.tail.next=n,this.tail=n):(this.head=n,this.tail=n),this.length++},this.pop=function(){if(!this.head)return null;const e=this.head;return this.head=this.head.next,this.length--,0===this.length&&(this.tail=null),e.content},this.front=function(){return this.head?this.head.content:void 0},this.isEmpty=function(){return null===this.head},this[Symbol.iterator]=function*(){let e=this.head;for(;null!==e;)yield e.content,e=e.next}.bind(this)}o.prototype.inspect=o.prototype.toString=function(){let e="",n=this.head;for(;n;)e+=JSON.stringify(n.content)+" ",n=n.next;return e},n.exports=o},{}],soundpubsub:[function(e,n){n.exports={soundPubSub:e("./lib/soundPubSub").soundPubSub}},{"./lib/soundPubSub":"D:\\work\\git\\webcomponents\\psk-enterprise-workspace\\privatesky\\modules\\soundpubsub\\lib\\soundPubSub.js"}]},{},["D:\\work\\git\\webcomponents\\psk-enterprise-workspace\\privatesky\\builds\\tmp\\bindableModel.js"]);const e=bindableModelRequire("psk-bindable-model");function n(e,n,t){fetch(e,{method:"POST",body:n}).then(e=>e.json().then(n=>{if(!e.ok||201!=e.status){let e="";Array.isArray(n)&&n.length?e=`${n[0].error.message}. Code: ${n[0].error.code}`:"object"==typeof n&&(e=n.message?n.message:JSON.stringify(n));let t=new Error(e);throw t.data=n,t}if(Array.isArray(n)){let e=[];for(const t of n)console.log(`Uploaded ${t.file.name} to ${t.result.path}`),e.push(t.result.path);t(void 0,e.length>1?e:e[0])}})).catch(e=>t(e))}function t(e,t,o,r){"function"==typeof o&&(r=o,o=void 0);const i=new FormData;let s="file";if(Array.isArray(t))for(const e of t)s="files[]",i.append(s,e);else i.append(s,t);let u=`/upload?path=${e}&input=${s}`;void 0!==o&&o.preventOverwrite&&(u+="&preventOverwrite=true"),n(u,i,r)}function o(e,n){Array.isArray(e)||(e=[e]);let t=[],o=[],r=i=>{let s=i;"/"!==i[0]&&(i="/"+i),function(e,n){fetch(e,{method:"DELETE"}).then(e=>{if(!e.ok)throw new Error(e.statusText);n()}).catch(e=>n(e))}("/delete"+i,i=>{if(i?t.push({filename:s,message:i.message}):o.push(s),e.length>0)return r(e.shift());n(t.length?t:void 0,o)})};r(e.shift())}class r{call(e,...n){if(0===n.length)throw Error("Missing arguments. Usage: call(functionName, arg1, arg2 ... callback)");const t=n.pop(),o="/api?"+new URLSearchParams({name:e,arguments:JSON.stringify(n)});fetch(o,{method:"GET"}).then(e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}).then(e=>{t(...e)}).catch(e=>t(e))}setObject(e,n,t){try{let o=JSON.stringify(n);this.setItem(e,o,t)}catch(e){t(e)}}getObject(e,n){this.getItem(e,"json",n)}setItem(e,t,o){let r=e.split("/"),i=r.splice(r.length-1,1)[0];(e=r.join("/"))||(e="/"),n(`/upload?path=${e}&filename=${i}`,t,o)}getItem(e,n,t){"function"==typeof n&&(t=n,n="arrayBuffer"),"/"!==e[0]&&(e="/"+e),function(e,n,t){fetch(e).then(e=>{if(!e.ok)throw new Error(e.statusText);e[n]().then(e=>t(void 0,e)).catch(e=>{throw e})}).catch(e=>t(e))}(e="/download"+e,n,t)}uploadFile(e,n,o,r){t(...arguments)}uploadMultipleFiles(e,n,o,r){t(...arguments)}deleteObjects(e,n){o(e,n)}removeFile(e,n){console.log("[Warning] - obsolete. Use DSU.deleteObjects"),o([e],n)}removeFiles(e,n){console.log("[Warning] - obsolete. Use DSU.deleteObjects"),o(e,n)}}class i{constructor(e,n){this.element=e,this.history=n}navigateToPageByTag(e,n){this.__getTagPage(e,(e,t)=>{e||this.navigateToPageByUrl(t,n)})}navigateToPageByUrl(e,n){let t={pathname:e};n&&(t.state=n),this.history.push(t)}getState(){return this.history.win.history.state.state}__getTagPage(e,n){this.element.dispatchEvent(new CustomEvent("getTags",{bubbles:!0,cancelable:!0,composed:!0,detail:(t,o)=>t?n(t):o[e]?void n(void 0,o[e]):n(new Error(`No page with tag: '${e}'`))}))}}class s{constructor(n,t){this.element=n,this.DSUStorage=new r,this.History=new i(n,t),this.modalsUrls=null;let o=[];this.setModel=n=>(this.model=e.setModel(n),o.forEach(e=>{e()}),this.model),this.onModelReady=e=>{if(void 0!==this.model)return e();o.push(e)},(()=>{n.addEventListener("getModelEvent",e=>{e.preventDefault(),e.stopImmediatePropagation();let{bindValue:n,callback:t}=e.detail;if("function"==typeof t)return this.onModelReady(()=>{!function(e,n,t){e&&n[e]&&t(null,n[e]),e||t(null,n)}(n,this.model,t)});t(new Error("No callback provided"))})})()}on(e,n,t){try{this._checkArguments(e,n,t),this.element.addEventListener(e,n,t)}catch(e){console.error(e)}}off(e,n,t){try{this._checkArguments(e,n,t),this.element.removeEventListener(e,n,t)}catch(e){console.error(e)}}send(e,n,t){if(t||(t={bubbles:!0,cancelable:!0,composed:!0,detail:n}),!e||0===e.trim().length)throw new Error(`\n      Argument eventName is not valid. It must bea non-empty string.\n      Provided value: ${e}\n      `);this.element.dispatchEvent(new CustomEvent(e,t))}_checkArguments(e,n,t){if("string"!=typeof e||0===e.trim().length)throw new Error(`\n      Argument eventName is not valid. It must be a non-empty string.\n      Provided value: ${e}\n      `);if("function"!=typeof n)throw new Error(`\n      Argument listener is not valid, it must be a function.\n      Provided value: ${n}\n      `);if(t&&"boolean"!=typeof t&&"object"!=typeof t)throw new Error(`\n      Argument options is not valid, it must a boolean (true/false) in case of capture, or an options object.\n      If no options are needed, this argument can be left empty.\n      Provided value: ${t}\n      `)}__getModalsUrl(e){if(this.modalsUrls)return e(this.modalsUrls);let n=new CustomEvent("getModals",{bubbles:!0,cancelable:!0,composed:!0,detail:e});this.element.dispatchEvent(n)}__constructModalElement(e){let n=this.element.querySelector("psk-page-loader[data-type=modal]");n||(n=document.createElement("psk-page-loader"),this.element.append(n),n.setAttribute("data-type","modal")),n.setAttribute("page-url",e)}showModal(e,n,t){const o=(...e)=>{this.hideModal(),console.log("Hide modal is called from completeCallback"),t(...e)},r=function(e){(0,e.data.callback)(void 0,n,o)};this.__getModalsUrl((n,t)=>{if(n)throw n;if(!t)throw new Error("Modals is not configured for this app");let o=t[e];if(!o)return console.error(`Modal with name ${e} does not exists. Did you forgot to add it in config.json?`);this.__constructModalElement(o),this.element.addEventListener("bindModalData",r),this.element.addEventListener("closeModal",this.hideModal.bind(this,r))})}hideModal(e){let n=this.element.querySelector("psk-page-loader[data-type=modal]");n&&n.remove(),e&&this.element.removeEventListener("bindModalData",e)}}export{s as C}